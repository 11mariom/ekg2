// (c) copyright 2001-2003 by Wojtek Kaniewski <wojtekka@irc.pl>
// 		      2003 Adam Osuchowski <adwol@polsl.gliwice.pl>
// 		      2004 by Piotr Kupisiewicz <deletek@ekg2.org>

Spis tre¶ci:

1. Format listy kontaktów ekg2
2. Format konfiguracji ekg2
3. Format emotikon (Adam Osuchowski <adwol@polsl.gliwice.pl>)
4. Format kolejki wiadomo¶ci
5. Format pliku konfiguracji sesji ekg2

* * *

1. Format listy kontaktów ekg2

Lista kontaktów z pliku ,,userlist'' jest tego samego formatu co eksportowana
z windowsowego klienta:

    imiê;nazwisko;pseudonim;wy¶wietlana_nazwa;telefon;grupy;opis;numer

ekg mo¿e dopisaæ u¿ytkownika do kilku metagrup:

    __blocked - u¿ytkownik blokowany
    __offline - jeste¶my niedostêpni dla u¿ytkownika
    __ignored_<poziom> - u¿ytkownik jest ignorowany z danym poziomem
    __ignored - wszystkie zdarzenia zwi±zane z u¿ytkownikiem s± ignorowane

* * *

2. Format konfiguracji ekg2

Plik konfiguracyjny ,,config'' zawiera kolejne wpisy postaci:

	set <zmienna> <warto¶æ>
	bind <klawisz> <komenda>
	bind-set <klawisz> <sekwencja>
	alias <nazwa> <komenda>
	plugin <nazwa>
	on <zdarzenie> <priorytet> <za³o¿enia> <komenda>
	at [nazwa] <czas>/<czêstotliwo¶æ> <komenda>
	timer [nazwa] [*/]<czas> <komenda>

Je¶li pierwszy wyraz nie jest jednym ze znanych, jest traktowany jako
nazwa zmiennej, po której wystêpuje jej warto¶æ -- chodzi o zachowanie
kompatybilno¶ci z innymi klientami.

Je¶li warto¶æ zmiennej zaczyna siê od znaku o kodzie 1, to nastêpuj±ca
po nim warto¶æ zmiennej jest zakodowana u¿ywaj±c base64.

* * *

3. Format emotikon (Adam Osuchowski <adwol@polsl.gliwice.pl>)

Za pomoc± oryginalnego klienta GG mo¿na wys³aæ sekwencje znakowe, które bêd±
siê zamieniaæ na odpowiednie ikony. Z oczywistych wzglêdów w ekg wykonaæ siê
tego nie da (mo¿e kto¶ kiedy¶ zrobi wsparcie dla aaliba ;))). Sekwencje te,
zamieniane s± wiêc na inne sekwencje. Np. sekwencja:

<cmok>

mo¿e byæ zamieniona na:

:-*

lub podobn±, wedle uznania u¿ytkownika.

Aby skorzystaæ z mo¿liwo¶ci rozwijania tego typu makr w otrzymywanych
wiadomo¶ciach, nale¿y je sobie wcze¶niej zdefiniowaæ. Robi siê to w pliku
~/.gg/emoticons. Ka¿da linia tego pliku definiuje jedno makro, a jej format
jest nastêpuj±cy:

<makro><tabulatory><rozwiniecie>

Nale¿y zwróciæ uwagê na to, ¿e do oddzielenia emoticonu od jego rozwiniêcia
s³u¿± tylko i wy³±cznie tabulatory (jeden lub wiêcej). Spowodowane jest to
wystêpowaniem spacji w oryginalnych GG-owych emoticonach.

Przyk³adowy zestaw definicji mo¿na znale¼æ w docs/emoticons.sample. Nie
zawiera on wszystkich definicji, bo nie mia³em na tyle inwencji, ¿eby je
powymy¶laæ. :))

* * *

4. Format kolejki wiadomo¶ci

Wiadomo¶ci s± zapisywane w osobnych plikach w katalogu ~/.gg/queue. Nazwa
pliku jest po³±czeniem czasu wys³ania wiadomo¶ci, kropki i kolejnej liczby,
ale nie ma ona wiêkszego znaczenia. Chodzi o zachowanie kolejno¶ci przy
sortowaniu plików. Pierwsza linia pliku zawiera wersjê pliku. Aktualnie
jest to ci±g znaków ,,v1''. Druga linia zawiera uid sesji, z której wiadomo¶æ
by³a wysy³ana. Trzecia linia zawiera listê odbiorców. Czwarta linia zawiera
czas wys³ania jako liczbê sekund od 1 stycznia 1970r. Pi±ta linia zawiera
numer sekwencyjny lub dowolny ci±g znaków pozwalaj±cy jednoznacznie okre¶liæ
wiadomo¶æ. Kolejne linie s± tre¶ci± wiadomo¶ci.

* * *

5. Format pliku konfiguracji sesji ekg2 

Plik konfiguracyjny sessions mo¿e zawieraæ nastêpuj±ce definicje:

	[uid sesji] - wszystkie zmienne bêd±ce poni¿ej s± podrzêdne dla 
		      tej sesji

	zmienna=warto¶æ 


$Id$
